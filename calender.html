<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tamil Nadu Electricity Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* ───────── Base ───────── */
    body{font-family:Arial, sans-serif;margin:0;background:#f5eee7}
    h2{margin:30px 0 15px;color:#0a3d62;text-align:center}

    /* ───────── Navbar ───────── */
    .navbar{background:#0a3d62;color:#fff;padding:15px;display:flex;
            justify-content:space-between;align-items:center}
    .navbar h1{font-size:1.2rem;margin:0}
    .menu-icon{font-size:26px;cursor:pointer}
    .menu{display:none;background:#111}
    .menu a{display:block;padding:12px 20px;color:#fff;text-decoration:none;border-bottom:1px solid #444}
    .menu a:hover{background:#333}

    /* ───────── Layout ───────── */
    .container{padding:20px;display:flex;justify-content:center;align-items:center;flex-direction:column}

    /* ───────── Tables ───────── */
    table{border-collapse:collapse;width:100%;max-width:800px;background:#fff;
          box-shadow:0 0 10px rgba(0,0,0,.1);margin-bottom:25px}
    th,td{border:1px solid #aaa;padding:10px;text-align:center}
    th{background:#d3d3d3;font-weight:bold}
    input[type=text],input[type=number]{width:90%;padding:5px;border:1px solid #ccc;border-radius:5px}

    /* ───────── Buttons / Results ───────── */
    .btn{background:#0a3d62;color:#fff;border:none;padding:10px 25px;margin:15px 0;
         font-size:1rem;border-radius:5px;cursor:pointer}
    .btn:hover{background:#09435d}
    #result{background:#fff;max-width:800px;box-shadow:0 0 10px rgba(0,0,0,.1);
            width:100%;padding:20px;font-size:1.1rem;text-align:center}
    .tariff{background:#fff;max-width:800px;box-shadow:0 0 10px rgba(0,0,0,.1);
            padding:15px 25px;line-height:1.6;margin-bottom:40px}
    .tariff ul{padding-left:18px;margin:0}
    .tariff li{margin-bottom:6px}
    .formula{font-weight:bold;text-align:center;margin-top:10px}
  </style>
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <h1>Tamil Nadu Electricity Calculator</h1>
    <div class="menu-icon" onclick="toggleMenu()">☰</div>
  </div>

  <!-- Dropdown Menu -->
  <div class="menu" id="menu">
    <a href="#">Financial Calculators</a>
    <a href="#">Home</a>
  </div>

  <!-- ▸ USER INPUT TABLE ◂ -->
  <div class="container">
    <h2>Power Consumption Table (Your Devices)</h2>
    <table id="inputTable">
      <thead>
        <tr>
          <th>Device</th>
          <th>Days Working</th>
          <th>Hours/Day</th>
          <th>Qty</th>
          <th>Unit (kWh)</th>
          <th>Power (W)</th>
        </tr>
      </thead>
      <tbody>
        <!-- 5 editable rows -->
        <tr>
          <td><input type="text"  placeholder="Fan"></td>
          <td><input type="number" placeholder="30"></td>
          <td><input type="number" placeholder="10"></td>
          <td><input type="number" placeholder="1"></td>
          <td><input type="number" readonly></td>
          <td><input type="number" placeholder="75"></td>
        </tr>
        <tr>
          <td><input type="text"  placeholder="Tube Light"></td>
          <td><input type="number"></td>
          <td><input type="number"></td>
          <td><input type="number"></td>
          <td><input type="number" readonly></td>
          <td><input type="number"></td>
        </tr>
        <tr>
          <td><input type="text"></td>
          <td><input type="number"></td>
          <td><input type="number"></td>
          <td><input type="number"></td>
          <td><input type="number" readonly></td>
          <td><input type="number"></td>
        </tr>
        <tr>
          <td><input type="text"></td>
          <td><input type="number"></td>
          <td><input type="number"></td>
          <td><input type="number"></td>
          <td><input type="number" readonly></td>
          <td><input type="number"></td>
        </tr>
        <tr>
          <td><input type="text"></td>
          <td><input type="number"></td>
          <td><input type="number"></td>
          <td><input type="number"></td>
          <td><input type="number" readonly></td>
          <td><input type="number"></td>
        </tr>
      </tbody>
    </table>

    <!-- Calculate Button -->
    <button class="btn" onclick="calculate()">Calculate Units & Bill</button>

    <!-- Result -->
    <div id="result">Enter values and press <em>Calculate Units & Bill</em> to see the total.</div>

    <!-- ▸ STANDARD APPLIANCE TABLE ◂ -->
    <h2>Standard Appliance Power Table</h2>
    <table>
      <thead>
        <tr><th>Appliance</th><th>Power (W)</th><th>Hours Used/Day</th></tr>
      </thead>
      <tbody>
        <tr><td>LED Tube Light</td> <td>20 W</td>  <td>5 hrs</td></tr>
        <tr><td>Ceiling Fan</td>   <td>75 W</td>  <td>10 hrs</td></tr>
        <tr><td>Laptop</td>        <td>60 W</td>  <td>6 hrs</td></tr>
        <tr><td>Mobile Charger</td><td>5 W</td>   <td>4 hrs</td></tr>
        <tr><td>TV (LED)</td>      <td>100 W</td> <td>3 hrs</td></tr>
        <tr><td>Fridge (165 L)</td><td>150 W (avg)</td><td>24 hrs</td></tr>
      </tbody>
    </table>

    <!-- ▸ TARIFF & FORMULA ◂ -->
    <div class="tariff">
      <h3 style="margin-top:0">Electricity Tariff (Tamil Nadu)</h3>
      <ul>
        <li><strong>0 – 100 units:</strong> ₹0 (free if no other slabs crossed)</li>
        <li><strong>101 – 200 units:</strong> ₹2.25 per unit (next 100)</li>
        <li><strong>201 – 500 units:</strong> ₹6.00 per unit (next 300)</li>
        <li><strong>Above 500 units:</strong> ₹8.00 per unit (excess)</li>
      </ul>
      <p class="formula">
        Units = (Power × Hours × Days × Qty) ÷ 1000
      </p>
    </div>
  </div>

  <!-- ───────── Scripts ───────── -->
  <script>
    /* Mobile-menu toggle */
    function toggleMenu(){
      const menu=document.getElementById("menu");
      menu.style.display = menu.style.display==="block" ? "none" : "block";
    }

    /* Main calculator */
    function calculate(){
      const rows = document.querySelectorAll("#inputTable tbody tr");
      let totalUnits = 0;

      rows.forEach(row=>{
        const cells = row.querySelectorAll("td");
        const days  = parseFloat(cells[1].querySelector("input").value) || 0;
        const hrs   = parseFloat(cells[2].querySelector("input").value) || 0;
        const qty   = parseFloat(cells[3].querySelector("input").value) || 0;
        const power = parseFloat(cells[5].querySelector("input").value) || 0;

        /* Units for this device */
        const units = (power * hrs * days * qty) / 1000;
        /* Write back to Unit column if >0, else clear */
        const unitInput = cells[4].querySelector("input");
        if(units > 0){
          unitInput.value = units.toFixed(2);
          totalUnits += units;
        }else{
          unitInput.value = "";
        }
      });

      /* Compute bill with Tamil-Nadu slabs */
      const bill = computeBill(totalUnits);

      /* Display result */
      document.getElementById("result").innerHTML =
        Total Units: <strong>${totalUnits.toFixed(2)}</strong><br> +
        Approx Bill: <strong>₹${bill.toFixed(2)}</strong>;
    }

    function computeBill(units){
      if(units <= 100) return 0;                       // 0–100 free
      let cost = 0;
      let rem  = units - 100;

      /* 101–200 (@₹2.25) */
      if(rem > 0){
        const slab = Math.min(rem, 100);
        cost += slab * 2.25;
        rem  -= slab;
      }
      /* 201–500 (@₹6.00) */
      if(rem > 0){
        const slab = Math.min(rem, 300);
        cost += slab * 6.00;
        rem  -= slab;
      }
      /* 501+  (@₹8.00) */
      if(rem > 0){
        cost += rem * 8.00;
      }
      return cost;
    }
  </script>
</body>
</html>
